# Complete Configuration Example - Claude (Anthropic)

# Service configuration
service_name: general-purpose-chatbot
version: 1.0.0
environment: production

# Server configuration
port: 8080
request_timeout: 30s
idle_timeout: 60s

# LLM Provider selection
llm:
  provider: claude  # claude, gemini, or openai

# Anthropic/Claude configuration
# Note: api_key should be set via ANTHROPIC_API_KEY environment variable
anthropic:
  model: claude-sonnet-4-5-20250929
  api_base_url: https://api.anthropic.com
  max_retries: 3
  initial_backoff: 1s
  max_backoff: 10s
  timeout: 30s

# Slack configuration
# Note: tokens should be set via SLACK_BOT_TOKEN and SLACK_APP_TOKEN environment variables
slack:
  debug: false

# Telegram configuration
# Note: bot_token should be set via TELEGRAM_BOT_TOKEN environment variable
telegram:
  debug: false

# Session storage
storage:
  backend: local  # local or s3
  local_dir: ./data
  s3_bucket: my-chatbot-sessions
  s3_prefix: sessions/
  s3_region: us-west-2
  s3_profile: default  # optional AWS profile

# MCP (Model Context Protocol) configuration
mcp:
  enabled: true
  timeout: 30s
  servers:
    filesystem:
      name: filesystem
      enabled: true
      transport: stdio
      command: npx
      args:
        - "-y"
        - "@modelcontextprotocol/server-filesystem"
        - "/data"
      environment:
        PATH: /usr/local/bin:/usr/bin
      tool_filter:
        - list_directory
        - read_file
        - write_file

    database:
      name: database
      enabled: true
      transport: websocket
      url: ws://db-server:8080/mcp
      auth:
        type: bearer
        token: your-bearer-token  # set via environment variable for sensitive tokens
      headers:
        X-Custom-Header: value

  # MCP server discovery (configured but not yet used)
  discovery:
    enabled: true
    refresh_interval: 5m
    health_checks: true

# Logging configuration
logging:
  level: info  # debug, info, warn, error
  format: json  # json or text

# Monitoring configuration
monitoring:
  health_check_timeout: 10s

# Security configuration
security:
  cors_allowed_origins:
    - http://localhost:3000
    - http://localhost:8080
  max_request_size: 10485760  # 10MB
  rate_limit_enabled: true
  rate_limit_rps: 100
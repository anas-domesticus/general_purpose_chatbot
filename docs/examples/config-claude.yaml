# Complete Configuration Example - Claude (Anthropic)

# Service configuration
service_name: general-purpose-chatbot
version: 1.0.0
environment: production

# Server configuration
port: 8080
request_timeout: 30s
idle_timeout: 60s

# LLM Provider selection
llm:
  provider: claude  # claude, gemini, or openai

# Anthropic/Claude configuration
anthropic:
  api_key: ${ANTHROPIC_API_KEY}
  model: claude-sonnet-4-5-20250929
  api_base_url: https://api.anthropic.com
  max_retries: 3
  initial_backoff: 1s
  max_backoff: 10s
  timeout: 30s

# Slack configuration
slack:
  bot_token: ${SLACK_BOT_TOKEN}
  app_token: ${SLACK_APP_TOKEN}
  debug: false

# Telegram configuration
telegram:
  bot_token: ${TELEGRAM_BOT_TOKEN}
  debug: false

# Session storage
session:
  backend: s3  # local, s3, or memory
  local_dir: ./sessions
  s3_bucket: my-chatbot-sessions
  s3_prefix: sessions/
  s3_region: us-west-2
  s3_profile: default  # optional AWS profile

# MCP (Model Context Protocol) configuration
mcp:
  enabled: true
  timeout: 30s
  servers:
    filesystem:
      name: filesystem
      enabled: true
      transport: stdio
      command: npx
      args:
        - "-y"
        - "@modelcontextprotocol/server-filesystem"
        - "/data"
      environment:
        PATH: /usr/local/bin:/usr/bin
      tool_filter:
        - list_directory
        - read_file
        - write_file

    database:
      name: database
      enabled: true
      transport: websocket  # not yet implemented
      url: ws://db-server:8080/mcp
      auth:
        type: bearer
        token: ${DB_MCP_TOKEN}
      headers:
        X-Custom-Header: value

  # MCP server discovery (configured but not yet used)
  discovery:
    enabled: true
    refresh_interval: 5m
    health_checks: true

# Logging configuration
logging:
  level: info  # debug, info, warn, error
  format: json  # json or text

# Monitoring configuration
monitoring:
  health_check_timeout: 10s
  metrics_enabled: true
  metrics_port: 9090

# Database configuration (configured but not yet integrated)
database:
  url: ${DATABASE_URL}
  max_connections: 25
  conn_max_lifetime: 5m
  conn_max_idle_time: 5m

# Security configuration
security:
  cors_allowed_origins:
    - http://localhost:3000
    - http://localhost:8080
  max_request_size: 10485760  # 10MB
  rate_limit_enabled: true
  rate_limit_rps: 100